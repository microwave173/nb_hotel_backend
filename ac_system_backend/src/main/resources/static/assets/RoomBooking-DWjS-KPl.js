import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{W as $,r as f,D as Z,c as g,d as o,a as t,w as a,b as n,o as u,F as x,e as k,f as y,t as m,i as v,L as D,J as q}from"./index-BE7gfLc4.js";const ee={class:"room-booking"},le={class:"search-section"},te={class:"price-range-container"},oe={class:"room-list"},ae=["src"],se={class:"room-info"},ne={class:"room-features"},re={class:"room-price"},ie={class:"price"},de={class:"room-actions"},ue={class:"guest-info-section"},me={key:0,class:"guest-info-section"},pe={class:"dialog-footer"},ge={key:0,class:"room-detail"},ce=["src"],_e={class:"detail-content"},fe={class:"detail-features"},ve={class:"feature-item"},Ve={class:"detail-description"},be={__name:"RoomBooking",setup(xe){const r=$({dateRange:[],roomType:"",priceRange:[200,400]}),I={200:"¥200",300:"¥300",400:"¥400"},T=f([{id:1,name:"大床房A",type:"large",price:299,image:"https://example.com/room1.jpg",features:["免费WiFi","24小时热水","空调","大床1.8米"],description:"舒适温馨的大床房，配备1.8米大床，独立卫浴，适合商务出行或情侣入住。",detailImages:["https://example.com/room1-1.jpg","https://example.com/room1-2.jpg","https://example.com/room1-3.jpg"]},{id:2,name:"大床房B",type:"large",price:299,image:"https://example.com/room2.jpg",features:["免费WiFi","24小时热水","空调","大床1.8米"],description:"舒适温馨的大床房，配备1.8米大床，独立卫浴，适合商务出行或情侣入住。",detailImages:["https://example.com/room2-1.jpg","https://example.com/room2-2.jpg","https://example.com/room2-3.jpg"]},{id:3,name:"双床房A",type:"twin",price:299,image:"https://example.com/room3.jpg",features:["免费WiFi","24小时热水","空调","双床1.2米"],description:"温馨舒适的双床房，配备两张1.2米单人床，独立卫浴，适合商务出行或朋友入住。",detailImages:["https://example.com/room3-1.jpg","https://example.com/room3-2.jpg","https://example.com/room3-3.jpg"]},{id:4,name:"双床房B",type:"twin",price:299,image:"https://example.com/room4.jpg",features:["免费WiFi","24小时热水","空调","双床1.2米"],description:"温馨舒适的双床房，配备两张1.2米单人床，独立卫浴，适合商务出行或朋友入住。",detailImages:["https://example.com/room4-1.jpg","https://example.com/room4-2.jpg","https://example.com/room4-3.jpg"]},{id:5,name:"双床房C",type:"twin",price:299,image:"https://example.com/room5.jpg",features:["免费WiFi","24小时热水","空调","双床1.2米"],description:"温馨舒适的双床房，配备两张1.2米单人床，独立卫浴，适合商务出行或朋友入住。",detailImages:["https://example.com/room5-1.jpg","https://example.com/room5-2.jpg","https://example.com/room5-3.jpg"]}]),W=Z(()=>T.value.filter(i=>{const e=i.price>=r.priceRange[0]&&i.price<=r.priceRange[1],R=!r.roomType||i.type===r.roomType;return e&&R})),s=$({guestCount:1,guest1:{name:"",idCard:""},guest2:{name:"",idCard:""},phone:"",specialRequests:""}),M={"guest1.name":[{required:!0,message:"请输入第一位入住人姓名",trigger:"blur"}],"guest1.idCard":[{required:!0,message:"请输入第一位入住人身份证号",trigger:"blur"},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"请输入正确的身份证号",trigger:"blur"}],"guest2.name":[{required:!0,message:"请输入第二位入住人姓名",trigger:"blur"}],"guest2.idCard":[{required:!0,message:"请输入第二位入住人身份证号",trigger:"blur"},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"请输入正确的身份证号",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}]},C=f(null),N=i=>{i===1&&(s.guest2.name="",s.guest2.idCard="")},Y=async()=>{if(C.value)try{await C.value.validate(),q.success("预订成功"),_.value=!1}catch(i){console.error("表单验证失败:",i)}},_=f(!1),h=f(!1),p=f(null),A=i=>i.getTime()<Date.now()-864e5,E=i=>{if(!r.dateRange||r.dateRange.length!==2){q.warning("请先选择入住日期");return}p.value=i,_.value=!0},L=i=>{p.value=i,h.value=!0};return(i,e)=>{const R=n("el-date-picker"),d=n("el-form-item"),j=n("el-option"),X=n("el-select"),z=n("el-slider"),w=n("el-form"),G=n("el-tag"),V=n("el-button"),J=n("el-card"),U=n("el-col"),F=n("el-row"),P=n("el-input-number"),c=n("el-input"),B=n("el-dialog"),S=n("el-carousel-item"),H=n("el-carousel"),K=n("Check"),O=n("el-icon");return u(),g("div",ee,[o("div",le,[t(w,{model:r,inline:!0,class:"search-form"},{default:a(()=>[t(d,{label:"入住日期"},{default:a(()=>[t(R,{modelValue:r.dateRange,"onUpdate:modelValue":e[0]||(e[0]=l=>r.dateRange=l),type:"daterange","range-separator":"至","start-placeholder":"入住日期","end-placeholder":"退房日期","disabled-date":A,"value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),t(d,{label:"房间类型"},{default:a(()=>[t(X,{modelValue:r.roomType,"onUpdate:modelValue":e[1]||(e[1]=l=>r.roomType=l),placeholder:"请选择房间类型"},{default:a(()=>[t(j,{label:"大床房",value:"large"}),t(j,{label:"双床房",value:"twin"})]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"价格区间",class:"price-range-item"},{default:a(()=>[o("div",te,[t(z,{modelValue:r.priceRange,"onUpdate:modelValue":e[2]||(e[2]=l=>r.priceRange=l),range:"",min:200,max:400,marks:I},null,8,["modelValue"])])]),_:1})]),_:1},8,["model"])]),o("div",oe,[t(F,{gutter:20},{default:a(()=>[(u(!0),g(x,null,k(W.value,l=>(u(),y(U,{key:l.id,xs:24,sm:12,md:8,lg:6},{default:a(()=>[t(J,{class:"room-card","body-style":{padding:"0px"}},{default:a(()=>[o("img",{src:l.image,class:"room-image"},null,8,ae),o("div",se,[o("h3",null,m(l.name),1),o("div",ne,[(u(!0),g(x,null,k(l.features,b=>(u(),y(G,{size:"small",key:b},{default:a(()=>[v(m(b),1)]),_:2},1024))),128))]),o("div",re,[o("span",ie,"¥"+m(l.price),1),e[13]||(e[13]=o("span",{class:"unit"},"/晚",-1))]),o("div",de,[t(V,{type:"primary",onClick:b=>E(l)},{default:a(()=>e[14]||(e[14]=[v("立即预订")])),_:2},1032,["onClick"]),t(V,{onClick:b=>L(l)},{default:a(()=>e[15]||(e[15]=[v("查看详情")])),_:2},1032,["onClick"])])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),t(B,{modelValue:_.value,"onUpdate:modelValue":e[11]||(e[11]=l=>_.value=l),title:"确认预订信息",width:"600px"},{footer:a(()=>[o("span",pe,[t(V,{onClick:e[10]||(e[10]=l=>_.value=!1)},{default:a(()=>e[18]||(e[18]=[v("取消")])),_:1}),t(V,{type:"primary",onClick:Y},{default:a(()=>e[19]||(e[19]=[v("确认预订")])),_:1})])]),default:a(()=>[t(w,{model:s,rules:M,ref_key:"bookingFormRef",ref:C,"label-width":"120px"},{default:a(()=>[t(d,{label:"房间类型"},{default:a(()=>{var l;return[o("span",null,m((l=p.value)==null?void 0:l.name),1)]}),_:1}),t(d,{label:"入住日期"},{default:a(()=>[o("span",null,m(r.dateRange[0]),1)]),_:1}),t(d,{label:"退房日期"},{default:a(()=>[o("span",null,m(r.dateRange[1]),1)]),_:1}),t(d,{label:"入住人数"},{default:a(()=>[t(P,{modelValue:s.guestCount,"onUpdate:modelValue":e[3]||(e[3]=l=>s.guestCount=l),min:1,max:2,onChange:N},null,8,["modelValue"])]),_:1}),o("div",ue,[e[16]||(e[16]=o("h3",null,"入住人信息 1（必填）",-1)),t(d,{label:"姓名",prop:"guest1.name"},{default:a(()=>[t(c,{modelValue:s.guest1.name,"onUpdate:modelValue":e[4]||(e[4]=l=>s.guest1.name=l)},null,8,["modelValue"])]),_:1}),t(d,{label:"身份证号",prop:"guest1.idCard"},{default:a(()=>[t(c,{modelValue:s.guest1.idCard,"onUpdate:modelValue":e[5]||(e[5]=l=>s.guest1.idCard=l)},null,8,["modelValue"])]),_:1})]),s.guestCount===2?(u(),g("div",me,[e[17]||(e[17]=o("h3",null,"入住人信息 2",-1)),t(d,{label:"姓名",prop:"guest2.name"},{default:a(()=>[t(c,{modelValue:s.guest2.name,"onUpdate:modelValue":e[6]||(e[6]=l=>s.guest2.name=l)},null,8,["modelValue"])]),_:1}),t(d,{label:"身份证号",prop:"guest2.idCard"},{default:a(()=>[t(c,{modelValue:s.guest2.idCard,"onUpdate:modelValue":e[7]||(e[7]=l=>s.guest2.idCard=l)},null,8,["modelValue"])]),_:1})])):D("",!0),t(d,{label:"联系电话",prop:"phone"},{default:a(()=>[t(c,{modelValue:s.phone,"onUpdate:modelValue":e[8]||(e[8]=l=>s.phone=l)},null,8,["modelValue"])]),_:1}),t(d,{label:"特殊要求"},{default:a(()=>[t(c,{modelValue:s.specialRequests,"onUpdate:modelValue":e[9]||(e[9]=l=>s.specialRequests=l),type:"textarea",rows:"3",placeholder:"如有特殊要求请在此说明"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),t(B,{modelValue:h.value,"onUpdate:modelValue":e[12]||(e[12]=l=>h.value=l),title:"房间详情",width:"700px"},{default:a(()=>[p.value?(u(),g("div",ge,[t(H,{height:"300px"},{default:a(()=>[(u(!0),g(x,null,k(p.value.detailImages,l=>(u(),y(S,{key:l},{default:a(()=>[o("img",{src:l,class:"detail-image"},null,8,ce)]),_:2},1024))),128))]),_:1}),o("div",_e,[o("h2",null,m(p.value.name),1),o("div",fe,[e[20]||(e[20]=o("h3",null,"房间设施",-1)),t(F,{gutter:20},{default:a(()=>[(u(!0),g(x,null,k(p.value.features,l=>(u(),y(U,{span:8,key:l},{default:a(()=>[o("div",ve,[t(O,null,{default:a(()=>[t(K)]),_:1}),o("span",null,m(l),1)])]),_:2},1024))),128))]),_:1})]),o("div",Ve,[e[21]||(e[21]=o("h3",null,"房间描述",-1)),o("p",null,m(p.value.description),1)]),e[22]||(e[22]=o("div",{class:"detail-policies"},[o("h3",null,"预订政策"),o("ul",null,[o("li",null,"入住时间：14:00后"),o("li",null,"退房时间：12:00前"),o("li",null,"取消政策：预订后24小时内可免费取消")])],-1))])])):D("",!0)]),_:1},8,["modelValue"])])}}},Ce=Q(be,[["__scopeId","data-v-5eaf451c"]]);export{Ce as default};
